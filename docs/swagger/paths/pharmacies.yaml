/pharmacies/open:
  get:
    tags:
      - Pharmacies
    summary: Get open pharmacies
    description: List all pharmacies open at a specific time and day
    parameters:
      - in: query
        name: time
        schema:
          type: string
          format: time
        required: true
        description: Time to check (HH:mm format)
      - in: query
        name: dayOfWeek
        schema:
          type: integer
          minimum: 1
          maximum: 7
        required: true
        description: Day of week (1=Monday, 7=Sunday)
    responses:
      '200':
        description: Success
        content:
          application/json:
            schema:
              type: object
              properties:
                status:
                  type: string
                  enum: [success]
                data:
                  type: array
                  items:
                    type: object
                    properties:
                      id:
                        type: integer
                        format: int64
                      name:
                        type: string
                      cash_balance:
                        type: number
                        format: float
                      businessHours:
                        type: array
                        items:
                          type: object
                          properties:
                            day_of_week:
                              type: integer
                              minimum: 1
                              maximum: 7
                            open_time:
                              type: string
                              format: time
                            close_time:
                              type: string
                              format: time
                            is_open:
                              type: boolean
                meta:
                  type: object
                  properties:
                    total:
                      type: integer

/pharmacies/search:
  get:
    tags:
      - Pharmacies
    summary: Search pharmacies by name
    parameters:
      - name: keyword
        in: query
        required: true
        schema:
          type: string
        description: Search keyword for pharmacy name
      - name: limit
        in: query
        required: false
        schema:
          type: integer
          default: 10
        description: Number of results to return
      - name: offset
        in: query
        required: false
        schema:
          type: integer
          default: 0
        description: Number of results to skip
    responses:
      '200':
        description: Success
        content:
          application/json:
            schema:
              type: object
              properties:
                status:
                  type: string
                  enum: [success]
                data:
                  type: array
                  items:
                    type: object
                    properties:
                      id:
                        type: integer
                        format: int64
                      name:
                        type: string
                      cash_balance:
                        type: number
                        format: float
                meta:
                  type: object
                  properties:
                    total:
                      type: integer
                    limit:
                      type: integer
                    offset:
                      type: integer

/pharmacies/{id}/masks:
  get:
    tags:
      - Pharmacies
    summary: Get masks sold by a pharmacy
    parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        description: Pharmacy ID
      - name: sortBy
        in: query
        required: false
        schema:
          type: string
          enum: [name, price]
          default: name
        description: Sort field
      - name: order
        in: query
        required: false
        schema:
          type: string
          enum: [asc, desc]
          default: asc
        description: Sort order
    responses:
      '200':
        description: Success
        content:
          application/json:
            schema:
              type: object
              properties:
                status:
                  type: string
                  enum: [success]
                data:
                  type: array
                  items:
                    type: object
                    properties:
                      id:
                        type: integer
                      name:
                        type: string
                      brand:
                        type: string
                      color:
                        type: string
                      price:
                        type: number
                      stock:
                        type: integer
                meta:
                  type: object
                  properties:
                    total:
                      type: integer
      '404':
        description: Pharmacy not found

/pharmacies/filter:
  get:
    tags:
      - Pharmacies
    summary: Filter pharmacies by mask price range and stock
    parameters:
      - name: minPrice
        in: query
        required: true
        schema:
          type: number
          format: float
        description: Minimum mask price
      - name: maxPrice
        in: query
        required: true
        schema:
          type: number
          format: float
        description: Maximum mask price
      - name: maskCount
        in: query
        required: true
        schema:
          type: integer
          minimum: 0
        description: Mask count threshold
      - name: comparison
        in: query
        required: true
        schema:
          type: string
          enum: [more, less]
        description: Compare mask count (more/less than threshold)
    responses:
      '200':
        description: Success
        content:
          application/json:
            schema:
              type: object
              properties:
                status:
                  type: string
                  enum: [success]
                data:
                  type: array
                  items:
                    type: object
                    properties:
                      id:
                        type: integer
                      name:
                        type: string
                      maskCount:
                        type: integer
                      averagePrice:
                        type: number
                meta:
                  type: object
                  properties:
                    total:
                      type: integer

# ... 其他藥局相關 API 